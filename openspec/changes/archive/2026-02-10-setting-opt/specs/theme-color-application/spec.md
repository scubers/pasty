# Theme Color Application

## Purpose
确保用户选择的主题颜色在整个应用中一致应用。

## ADDED Requirements

### Requirement: 主看板历史记录选中状态使用主题颜色
系统必须在主看板中应用用户选择的主题颜色作为历史记录项的选中背景色和边框色。

#### Scenario: 选中历史记录项显示主题颜色背景
- **WHEN** 用户选择主题颜色为蓝色
- **AND** 用户在主看板中选中一条历史记录
- **THEN** 选中的历史记录项背景色为蓝色，透明度为 12%
- **AND** 选中项左侧的标记条为纯蓝色

#### Scenario: 选中历史记录项获得焦点时显示主题颜色边框
- **WHEN** 用户选择主题颜色为紫色
- **AND** 用户在主看板中选中一条历史记录且该记录获得键盘焦点
- **THEN** 选中的历史记录项边框为紫色，透明度为 80%

### Requirement: 设置页面滑块激活状态使用主题颜色
系统必须在设置页面的滑块控件中应用用户选择的主题颜色作为激活轨道颜色。

#### Scenario: 滑块激活轨道显示主题颜色
- **WHEN** 用户选择主题颜色为绿色
- **AND** 用户查看包含滑块的设置页面
- **THEN** 滑块控件中已激活的轨道部分显示为绿色

### Requirement: 设置页面开关激活状态使用主题颜色
系统必须在设置页面的开关控件中应用用户选择的主题颜色作为激活状态颜色。

#### Scenario: 开关激活状态显示主题颜色
- **WHEN** 用户选择主题颜色为粉色
- **AND** 用户将开关切换到激活状态
- **THEN** 开控件的背景色显示为粉色

### Requirement: 设置侧边栏选中项使用主题颜色高亮
系统必须在设置侧边栏中应用用户选择的主题颜色作为当前选中项的背景高亮色。

#### Scenario: 侧边栏选中项显示主题颜色高亮
- **WHEN** 用户选择主题颜色为橙色
- **AND** 用户在设置侧边栏中选择某个设置项
- **THEN** 该设置项的背景色显示为橙色，透明度为 10%

### Requirement: 主题颜色变化立即生效
系统必须在用户更改主题颜色后立即更新所有界面的颜色显示。

#### Scenario: 更改主题颜色后界面立即更新
- **WHEN** 用户在 Appearance 设置中更改主题颜色
- **THEN** 主看板的历史记录选中颜色立即更新
- **AND** 设置页面的滑块和开关颜色立即更新
- **AND** 设置侧边栏的选中项高亮颜色立即更新

### Requirement: 主题颜色设置持久化
系统必须将用户选择的主题颜色保存到设置文件中，并在下次启动时恢复。

#### Scenario: 主题颜色持久化
- **WHEN** 用户选择主题颜色为红色
- **THEN** 系统将"red"保存到设置文件的 appearance.themeColor 字段
- **WHEN** 用户重启应用
- **THEN** 系统读取设置文件并应用红色主题颜色

### Requirement: 支持多种预设主题颜色
系统必须提供多种预设主题颜色供用户选择。

#### Scenario: 可选主题颜色列表
- **WHEN** 用户打开 Appearance 设置
- **THEN** 系统显示以下预设颜色选项：
  - system（默认 Teal）
  - blue
  - purple
  - pink
  - red
  - orange
  - yellow
  - green
